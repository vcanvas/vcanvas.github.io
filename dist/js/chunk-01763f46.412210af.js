(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01763f46"],{9093:function(e,t,r){var i=r("ce10"),n=r("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,n)}},9286:function(e,t,r){},aa77:function(e,t,r){var i=r("5ca1"),n=r("be13"),s=r("79e5"),o=r("fdef"),a="["+o+"]",c="​",p=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),d=function(e,t,r){var n={},a=s((function(){return!!o[e]()||c[e]()!=c})),p=n[e]=a?t(l):o[e];r&&(n[r]=p),i(i.P+i.F*a,"String",n)},l=d.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(p,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},c5f6:function(e,t,r){"use strict";var i=r("7726"),n=r("69a8"),s=r("2d95"),o=r("5dbc"),a=r("6a99"),c=r("79e5"),p=r("9093").f,u=r("11e9").f,d=r("86cc").f,l=r("aa77").trim,m="Number",f=i[m],h=f,v=f.prototype,g=s(r("2aeb")(v))==m,_="trim"in String.prototype,w=function(e){var t=a(e,!1);if("string"==typeof t&&t.length>2){t=_?t.trim():l(t,3);var r,i,n,s=t.charCodeAt(0);if(43===s||45===s){if(r=t.charCodeAt(2),88===r||120===r)return NaN}else if(48===s){switch(t.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+t}for(var o,c=t.slice(2),p=0,u=c.length;p<u;p++)if(o=c.charCodeAt(p),o<48||o>n)return NaN;return parseInt(c,i)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof f&&(g?c((function(){v.valueOf.call(r)})):s(r)!=m)?o(new h(w(t)),r,f):w(t)};for(var E,C=r("9e1e")?p(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;C.length>y;y++)n(h,E=C[y])&&!n(f,E)&&d(f,E,u(h,E));f.prototype=v,v.constructor=f,r("2aba")(i,m,f)}},d051:function(e,t,r){"use strict";r("9286")},eb8f:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register-main-container"},[r("div",{staticClass:"register-r"},[r("button",{staticClass:"login-signin",on:{click:function(t){return e.toLogin()}}},[e._v("登录")]),r("button",{staticClass:"return-main",on:{click:function(t){return e.returnMain()}}},[e._v("返回")])]),r("ul",{attrs:{id:"login-main-register"}},[e._m(0),e._l(e.register_input,(function(t,i){return r("li",{key:i},[r("label",{staticClass:"register_ipt_name"},[e._v(e._s(t.prefix)),r("span",{staticClass:"spanForJustify"})]),"checkbox"===t.type?r("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"item.content"}],ref:"ipt",refInFor:!0,attrs:{pattern:t.pattern,required:"required",placeholder:t.placeholder,name:t.name,type:"checkbox"},domProps:{checked:Array.isArray(t.content)?e._i(t.content,null)>-1:t.content},on:{keypress:function(t){return e.iptOnInput(t)},change:function(r){var i=t.content,n=r.target,s=!!n.checked;if(Array.isArray(i)){var o=null,a=e._i(i,o);n.checked?a<0&&e.$set(t,"content",i.concat([o])):a>-1&&e.$set(t,"content",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(t,"content",s)}}}):"radio"===t.type?r("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"item.content"}],ref:"ipt",refInFor:!0,attrs:{pattern:t.pattern,required:"required",placeholder:t.placeholder,name:t.name,type:"radio"},domProps:{checked:e._q(t.content,null)},on:{keypress:function(t){return e.iptOnInput(t)},change:function(r){return e.$set(t,"content",null)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"item.content"}],ref:"ipt",refInFor:!0,attrs:{pattern:t.pattern,required:"required",placeholder:t.placeholder,name:t.name,type:t.type},domProps:{value:t.content},on:{keypress:function(t){return e.iptOnInput(t)},input:function(r){r.target.composing||e.$set(t,"content",r.target.value)}}}),r("div",{staticClass:"ipt-end-icon-container"},[r("i",{directives:[{name:"show",rawName:"v-show",value:t.isTrue,expression:"item.isTrue"}],staticClass:"ipt-end-icon ipt-end-icon-correct"}),r("i",{directives:[{name:"show",rawName:"v-show",value:t.isError||t.isEmpty,expression:"item.isError || item.isEmpty"}],staticClass:"ipt-end-icon ipt-end-icon-error",on:{click:function(e){t.content=""}}})]),r("div",{staticClass:"msg-container"},[r("transition",{attrs:{name:"fade"}},[r("p",{directives:[{name:"show",rawName:"v-show",value:t.isEmpty||t.isError,expression:"item.isEmpty || item.isError"}],staticClass:"empty_msg"},[r("span",[e._v(e._s(t.prefix))]),r("span",{directives:[{name:"show",rawName:"v-show",value:t.isEmpty,expression:"item.isEmpty"}]},[e._v("不能为空")]),r("span",{directives:[{name:"show",rawName:"v-show",value:t.isError,expression:"item.isError"}]},[e._v("格式错误")]),e._v("!\n          ")])])],1)])})),r("transition",{attrs:{name:"fade"}},[r("li",{directives:[{name:"show",rawName:"v-show",value:e.codeShow,expression:"codeShow"}]},[r("label",{staticClass:"register_ipt_name"},[e._v("验证码"),r("span",{staticClass:"spanForJustify"})]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.iptCodeVal,expression:"iptCodeVal"}],ref:"ipt_code",attrs:{type:"text",required:"required",placeholder:"请输入验证码",name:"code",id:"ipt-code"},domProps:{value:e.iptCodeVal},on:{keypress:function(t){return e.iptOnInput(t)},input:function(t){t.target.composing||(e.iptCodeVal=t.target.value)}}}),r("button",{attrs:{disabled:e.isSend&&!e.isReSend},on:{click:function(t){return e.getMailCode()}}},[r("span",{directives:[{name:"show",rawName:"v-show",value:!e.isSend&&!e.isReSend,expression:"!isSend && !isReSend"}]},[e._v("发送验证码")]),r("span",{directives:[{name:"show",rawName:"v-show",value:e.isSend,expression:"isSend"}]},[e._v(e._s(e.timeCountDown)+"s")]),r("span",{directives:[{name:"show",rawName:"v-show",value:e.isReSend,expression:"isReSend"}]},[e._v("重新发送")])]),r("div",{staticClass:"ipt-end-icon-container"},[r("i",{directives:[{name:"show",rawName:"v-show",value:e.isCodeTrue,expression:"isCodeTrue"}],staticClass:"ipt-end-icon ipt-end-icon-correct"}),r("i",{directives:[{name:"show",rawName:"v-show",value:e.codeErr.isCodeEmpty||e.codeErr.isCodeError,expression:"codeErr.isCodeEmpty || codeErr.isCodeError"}],staticClass:"ipt-end-icon ipt-end-icon-error",on:{click:function(t){e.iptCodeVal=""}}})]),r("div",{staticClass:"msg-container"},[r("transition",{attrs:{name:"fade"}},[r("p",{directives:[{name:"show",rawName:"v-show",value:e.codeErr.isCodeEmpty||e.codeErr.isCodeError,expression:"codeErr.isCodeEmpty || codeErr.isCodeError"}],staticClass:"empty_msg"},[r("span",[e._v("验证码")]),r("span",{directives:[{name:"show",rawName:"v-show",value:e.codeErr.isCodeEmpty,expression:"codeErr.isCodeEmpty"}]},[e._v("不能为空")]),r("span",{directives:[{name:"show",rawName:"v-show",value:e.codeErr.isCodeError,expression:"codeErr.isCodeError"}]},[e._v("格式错误")]),e._v("!\n            ")])])],1)])]),r("li",[e._m(1),r("input",{ref:"upload_img",staticStyle:{width:"88%",border:"none","box-shadow":"none","font-size":"12px"},attrs:{type:"file",id:"upload-head",required:"required",accept:".jpg,.png,.jpeg"}})]),r("li",[r("button",{ref:"registerbtn",staticClass:"registerbtn loginSubmitBtn",on:{click:e.submitRegister}},[e._v("\n        注册\n      ")]),r("transition",{attrs:{name:"fade"}},[r("span",{class:[e.isRegisterSuccess?"register_tips_success":"register_tips_err"],domProps:{textContent:e._s(e.register_tips)}})])],1)],2)])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",[r("div",{staticClass:"register-main-top"},[r("i"),r("span",[e._v(" 欢迎注册 ")]),r("i")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{},[e._v("头像"),r("span",{staticClass:"spanForJustify"})])}],s=(r("c5f6"),r("ac6a"),r("96cf"),r("1da1")),o=(r("28a5"),r("4667")),a=r("d257"),c={data:function(){return{filereader:new FileReader,codeShow:!1,timeCountDown:59,isSend:!1,isReSend:!1,iptCodeVal:"",trueCode:"",isCodeTrue:!1,codeErr:{isCodeEmpty:!1,isCodeError:!1},register_input:[{content:"",prefix:"用户名",type:"text",name:"username",isTrue:!1,isError:!1,isEmpty:!1,pattern:"^[a-zA-Z][a-zA-Z0-9_]{4,15}$",placeholder:"字母开头，5-16位字母数字下划线"},{content:"",prefix:"密码",type:"password",name:"pwd",isTrue:!1,isError:!1,isEmpty:!1,pattern:"^[a-zA-Z][a-zA-Z0-9_]{5,17}$",placeholder:"字母开头，6~18位字母、数字和下划线"},{content:"",prefix:"确认密码",type:"password",name:"repwd",isTrue:!1,isError:!1,isEmpty:!1,pattern:null,placeholder:"两次密码保持一致"},{content:"",prefix:"邮箱",type:"mail",ref:"mail",name:"mail",isTrue:!1,isError:!1,isEmpty:!1,pattern:"^([a-zA-Z0-9]+[_|_|-|.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|_|.]?)*[a-zA-Z0-9]+.[a-zA-Z]{2,6}$",placeholder:"请输入你的邮箱"}],pwdIndex:null,errormsg:"格式错误",register_tips:"",tomain_countdown:0,isRegisterSuccess:!1,isHeadUpload:!1}},methods:{getBase64:function(){var e=this,t=this.$refs.upload_img;t.addEventListener("change",(function(){var r=["jpg","jpeg","png"],i=t.value.split(".")[t.value.split(".").length-1];if(-1==r.indexOf(i))return e.$message.error("仅支持jpg、jpeg、png格式的图片！"),void(t.value="");e.filereader.readAsDataURL(t.files[0]),e.isHeadUpload=!0}))},toLogin:function(){this.$router.push("/login")},returnMain:function(){this.$router.push("/")},iptOnInput:function(e){32===e.keyCode&&e.preventDefault()},getMailCode:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return 1==this.isReSend&&(this.isReSend=!1,this.timeCountDown=59),t=this.register_input[3].content,e.next=4,o["a"].get("http://".concat(this.$store.state.URL,":").concat(this.$store.state.PORT,"/register/mail/getcode"),{params:{mail:t}});case 4:r=e.sent,"success"==r.data.status&&(this.trueCode=r.data.code,this.isSend=!0,i=setInterval((function(){n.timeCountDown--,50==n.timeCountDown&&(clearInterval(i),n.isSend=!1,n.isReSend=!0)}),1e3));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),submitRegister:function(){var e=this,t=this,r=this.register_input.every((function(e){return 1==e.isTrue}));r?this.trueCode!=this.iptCodeVal?this.$message.error("验证码错误！"):this.isHeadUpload?this.axios.post("http://".concat(this.$store.state.URL,":").concat(this.$store.state.PORT,"/register"),{username:this.register_input[0].content,password:this.register_input[1].content,mail:this.register_input[3].content,registertime:Object(a["a"])(new Date),head:this.filereader.result},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(r){-3==r.data.status?(t.isRegisterSuccess=!1,t.register_tips="用户名已存在！请更换后重试！"):(t.tomain_countdown=3,t.isRegisterSuccess=!0,t.register_tips="注册成功，将在".concat(t.tomain_countdown,"秒后跳转到登录页"),setInterval((function(){t.tomain_countdown=t.tomain_countdown-1,t.register_tips="注册成功，将在".concat(t.tomain_countdown,"秒后跳转到登录页"),-1===t.tomain_countdown&&e.$router.push("/login")}),1e3))})).catch((function(e){console.log(e)})):this.$message.error("未选择头像！"):this.$message.error("请确保确保各项输入值合法！")},getPwdIndex:function(e){e.register_input.forEach((function(t,r){"密码"===t.prefix&&(e.pwdIndex=r)}))},setIptTrue:function(e){e.classList.add("ipt-item-true"),e.classList.remove("ipt-item-false")},setIptFalse:function(e){e.classList.add("ipt-item-false"),e.classList.remove("ipt-item-true")},checkRegisterIpt:function(e,t,r,i){t.value?(e.register_input[r].isEmpty=!1,r===i?e.register_input[r].content===e.register_input[r-1].content?(e.register_input[r].isError=!1,e.register_input[r].isTrue=!0,e.setIptTrue(t)):(e.register_input[r].isError=!0,e.register_input[r].isTrue=!1,e.errormsg="不一致",e.setIptFalse(t)):t.checkValidity()?(e.register_input[r].isError=!1,e.register_input[r].isTrue=!0,e.setIptTrue(t)):(e.register_input[r].isError=!0,e.register_input[r].isTrue=!1,e.errormsg="格式错误",e.setIptFalse(t))):(e.register_input[r].isError=!1,e.register_input[r].isEmpty=!0,e.register_input[r].isTrue=!1,e.setIptFalse(t))}},mounted:function(){var e=this,t=this;this.getPwdIndex(t),this.$refs.ipt.forEach((function(r,i){r.onblur=function(){e.checkRegisterIpt(t,r,i,t.pwdIndex+1),3==i&&r.checkValidity()&&(e.codeShow=!0)}})),this.$refs.ipt.forEach((function(r,i){r.oninput=function(){e.checkRegisterIpt(t,r,i,t.pwdIndex+1),3==i&&r.checkValidity()&&(e.codeShow=!0)}}));var r=this;this.$refs.ipt_code.onblur=function(){this.value||(r.codeErr.isCodeEmpty=!0,r.codeErr.isCodeError=!1)},this.$refs.ipt_code.onchange=function(){6===this.value.length||Number(this.value)||(r.codeErr.isCodeEmpty=!1,r.codeErr.isCodeError=!0)},document.onkeydown=function(t){13==t.keyCode&&e.submitRegister()},this.getBase64()}},p=c,u=(r("d051"),r("2877")),d=Object(u["a"])(p,i,n,!1,null,null,null);t["default"]=d.exports},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-01763f46.412210af.js.map